---
tags:
  - db
  - clickhouse
---
![[Pasted image 20250425040345.png]]
Для всех перечисленных вариантов MergeTree существуют аналоги с приставкой **Replicated**. Например: `ReplicatedMergeTree`, `ReplicatedReplacingMergeTree`, `ReplicatedSummingMergeTree` и т.п 
Эти движки добавляют поддержку **репликации таблицы на несколько серверов**. Использование Replicated-движков требует настройки кластера встроенного ClickHouse Keeper для координации.

С точки зрения функциональности ReplicatedMergeTree эквивалентен соответствующему MergeTree, но каждый узел при вставке регистрирует part в общем координаторе и другие реплики его скачивают, а фоновые слияния [[Merge]] планируются распределенно между репликами, чтобы не выполнять одну работу многократноюВ остальном правила дедупликации, суммирования, схлопывания и т.п. остаются теми же, просто применяются в распределенной среде.

![[Pasted image 20250425040436.png]]

Все Реплики кластера синхроннизированы. This can be achieved with the command: 
```SYSTEM SYNC REPLICA table```
